<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How To Build A Workshop Package • BuildABiocWorkshop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How To Build A Workshop Package">
<meta property="og:description" content="BuildABiocWorkshop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BuildABiocWorkshop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/HOWTO_BUILD_WORKSHOP.html">How To Build A Workshop Package</a>
    </li>
    <li>
      <a href="../articles/workshop_example.html">An Example Workshop</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/seandavi/BuildABiocWorkshop">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HOWTO_BUILD_WORKSHOP_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How To Build A Workshop Package</h1>
            <h3 class="subtitle">In other words, how do I use what’s here</h3>
                        <h4 class="author">Sean Davis<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>
</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/seandavi/BuildABiocWorkshop/blob/master/vignettes/HOWTO_BUILD_WORKSHOP.Rmd"><code>vignettes/HOWTO_BUILD_WORKSHOP.Rmd</code></a></small>
      <div class="hidden name"><code>HOWTO_BUILD_WORKSHOP.Rmd</code></div>

    </div>

    
    
<p>First, this package doesn’t do much except add a template Github Action to build all the pieces necessary for a workshop.</p>
<div id="quickstart" class="section level2">
<h2 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h2>
<ul class="task-list">
<li>
<input type="checkbox" disabled>
Create a repo from this template and rename it (do not fork the repository).</li>
<li>
<input type="checkbox" disabled>
Edit <code>DESCRIPTION</code> file<ul class="task-list">
<li>
<input type="checkbox" disabled>
Change package name</li>
<li>
<input type="checkbox" disabled>
Change title and description</li>
<li>
<input type="checkbox" disabled>
Change authors</li>
<li>
<input type="checkbox" disabled>
Check dependencies</li>
<li>
<input type="checkbox" disabled>
Change DockerImage tag</li>
</ul>
</li>
<li>
<input type="checkbox" disabled>
Edit ’_pkgdown.yml’ and<code>.github/workflows/basic_checks.yaml</code>
</li>
<li>
<input type="checkbox" disabled>
Write a normal R package that can be installed</li>
<li>
<input type="checkbox" disabled>
Include one or more vignettes that will constitute the workshop materials</li>
</ul>
</div>
<div id="details" class="section level2">
<h2 class="hasAnchor">
<a href="#details" class="anchor"></a>Details</h2>
<p>To accomplish this follow each of the 7 steps below. Once your edit the yaml files, Github actions will run each time you commit to github and it creates the pkgdown website and docker image for you.</p>
<div id="clone-this-repo" class="section level3">
<h3 class="hasAnchor">
<a href="#clone-this-repo" class="anchor"></a>1. Clone this repo</h3>
<p>Clone this repo, fork and <strong>rename</strong> it, or create a repo from this template</p>
<pre><code>git clone https://github.com/seandavi/BuildABiocWorkshop MYPKGDIR</code></pre>
</div>
<div id="edit-description-file" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-description-file" class="anchor"></a>2. Edit <code>DESCRIPTION</code> file</h3>
<ul>
<li>Change the package name to something identifiable and descriptive, ideally something that will be somewhat unique.</li>
<li>Edit the title and description as per any normal R package.</li>
<li>Update authors (unless you want me to get credit for your work).</li>
<li>Workshop packages are normal R packages, so dependencies work as usual. Append libraries to the Depends/Suggests/Imports in this package DESCRIPTION File, which includes;</li>
</ul>
<p>Depends: Biobase Suggests: knitr, rmarkdown, pkgdown If your packages depend on a github R repos, be sure to specify the correct repo <code>username/reponame</code>. Installation will deal with this.</p>
<ul>
<li>Edit the last 3 lines of the DESCRIPTION FILE, URL, BugReports and DockerImage (described in more detail below)</li>
</ul>
</div>
<div id="set-up-a-website-github-pages" class="section level3">
<h3 class="hasAnchor">
<a href="#set-up-a-website-github-pages" class="anchor"></a>3. Set up a website (Github Pages)</h3>
<p>In your repository, click on settings or url <a href="https://github.com/" class="uri">https://github.com/</a><github username>/<workshop repos name>/settings. Midway down the page, in the GitHub Pages section, select source ‘gh-pages branch’. If only ‘master branch’ is visible, select master for now, but once Github actions runs, ‘gh-pages branch’ will be available and is required to render the website.</workshop></github></p>
<p>In the DESCRIPTION file, update the URL: to the website url eg <a href="https://seandavi.github.io/BuildABiocWorkshop/" class="uri">https://seandavi.github.io/BuildABiocWorkshop/</a></p>
</div>
<div id="edit-_pkgdown-yml" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-_pkgdown-yml" class="anchor"></a>4. Edit _pkgdown.yml</h3>
<p>Edit the file _pkgdown.yml, updating the url:, title and href: which should be your website url, title of your workshop and github repos url respectively. You do not need to edit this file further. You do not need to add menus or links to vignettes. GitHub Actions and pkgdown will do this when it builds the website</p>
</div>
<div id="edit--githubworkflowsbasic_checks-yaml" class="section level3">
<h3 class="hasAnchor">
<a href="#edit--githubworkflowsbasic_checks-yaml" class="anchor"></a>5. Edit <code>.github/workflows/basic_checks.yaml</code>
</h3>
<p>You need a dockerhub account, which if you don’t have one, can be created at hub.docker.com. Your <docker user name> maybe different to your <gitub username name>.</gitub></docker></p>
<p>You do not need to create a docker image manually. Github actions will read Dockerfile located in this template, and using the yamls files will create, build and push to dockerhub an image with your desired name.</p>
<ul>
<li><p><strong>You MUST change the <code>repository</code> line in this yaml file to be YOUR desired Docker image name</strong>.</p></li>
<li><p>The <strong>image name must be in lower case</strong>.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">push</span><span class="kw">,</span><span class="at"> pull_request</span><span class="kw">]</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">cache-version</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">  # Change the following line to what you want YOUR</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">  # docker image to be called. Do not include </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">  # any tags--those will be added automatically</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">repo-name</span><span class="kw">:</span><span class="at"> seandavi/buildabiocworkshop</span></span></code></pre></div>
<p>In the DESCRIPTION file, the <strong>DockerImage: should match your desired name for a dockerhub repository</strong>.</p>
</div>
<div id="add-secrets-to-github-repo" class="section level3">
<h3 class="hasAnchor">
<a href="#add-secrets-to-github-repo" class="anchor"></a>6. Add “secrets” to github repo</h3>
<p>Secrets are encrypted environment variables that you create in a repository or organization. The secrets you create are available to use in GitHub Actions workflows. GitHub uses a libsodium sealed box to help ensure that secrets are encrypted before they reach GitHub, and remain encrypted until you use them in a workflow.</p>
<p>See <a href="https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets">Creating and storing encrypted secrets</a></p>
<ul>
<li>
<code>DOCKER_USERNAME</code>: your dockerhub username; create a dockerhub account if you do not have one</li>
<li>
<code>DOCKER_PASSWORD</code>: your dockerhub password or an access token obtained from <a href="https://hub.docker.com/settings/security">Docker Hub</a>
</li>
</ul>
</div>
<div id="edit-readme-md-add-vignettes-to-vignettes-folder" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-readme-md-add-vignettes-to-vignettes-folder" class="anchor"></a>7. Edit README.md, add vignettes to vignettes folder</h3>
<p>Edit the README.md. and add one or more Rmd vignettes that will constitute the workshop materials. It is normal R package that should pass rcmdcheck::rcmdcheck(), and be installed using regular R package install commands.</p>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p><a href="mailto:seandavi@gmail.com" class="email">seandavi@gmail.com</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sean Davis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
